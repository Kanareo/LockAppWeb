"use strict";(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[147],{621:function(e,s,t){t.r(s),t.d(s,{default:function(){return $e}});var r=t(3396),n=t(7139);const l=e=>((0,r.dD)("data-v-37761c71"),e=e(),(0,r.Cn)(),e),o={class:"content"},i={class:"wrapper"},a={class:"item-users"},c=l((()=>(0,r._)("h4",null,"Users List",-1))),u=l((()=>(0,r._)("ul",{class:"list-head"},[(0,r._)("div",{class:"list-head-top"},[(0,r._)("li",{class:"list-head-item"},"Name"),(0,r._)("li",{class:"list-head-item"},"Surname"),(0,r._)("li",{class:"list-head-item grid-right"},"Details")])],-1))),d={class:"list-items"},h={class:"list-item-properties"},p={class:"list-item-properties"},g={class:"list-item-properties grid-right"},m=["onClick"],k=l((()=>(0,r._)("i",{class:"bi bi-search"},null,-1))),w=[k],y={class:"item"},b={key:0};function f(e,s,t,l,k,f){const _=(0,r.up)("user-details"),U=(0,r.up)("MainLayout");return(0,r.wg)(),(0,r.j4)(U,null,{default:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("div",a,[c,u,(0,r._)("ul",d,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.users,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"list-item"},[(0,r._)("li",h,(0,n.zw)(e.name),1),(0,r._)("li",p,(0,n.zw)(e.surname),1),(0,r._)("li",g,[(0,r._)("button",{class:"btn btn-outline-warning",onClick:t=>f.setActiveUser(e,s)},w,8,m)])])))),128))])]),(0,r._)("div",y,[k.currentUser?((0,r.wg)(),(0,r.iD)("div",b,[(0,r.Wm)(_,{user:k.currentUser},null,8,["user"])])):(0,r.kq)("",!0)])])])])),_:1})}var _=t(2393),U=t(9242);const S=e=>((0,r.dD)("data-v-1df86b43"),e=e(),(0,r.Cn)(),e),v={key:0,class:"edit-form"},M=S((()=>(0,r._)("h4",null,"User",-1))),C={class:"form-group"},D=S((()=>(0,r._)("label",{for:"name"},"Name",-1))),I={class:"form-group"},x=S((()=>(0,r._)("label",{for:"surname"},"Surname",-1))),Z={class:"form-group"},E=S((()=>(0,r._)("label",{for:"phone"},"Phone",-1))),T={class:"options-field"},A=S((()=>(0,r._)("option",{disabled:"",value:""},"Select lock",-1))),L={key:0},z={key:0},F=S((()=>(0,r._)("br",null,null,-1))),P=S((()=>(0,r._)("br",null,null,-1))),V=S((()=>(0,r._)("br",null,null,-1))),j={key:1,class:"form-group"},H=S((()=>(0,r._)("label",null,[(0,r._)("strong",null,"Status:")],-1))),B={key:2,class:"form-group"},N=S((()=>(0,r._)("label",null,[(0,r._)("strong",null,"New user will be automatically blocked")],-1))),q=[N],W={class:"form-group"},O=S((()=>(0,r._)("label",{for:"code"},"Code",-1))),Y={class:"form-group"},R=S((()=>(0,r._)("label",{for:"pass"},"Password",-1))),$={class:"buttons"};function K(e,s,t,l,o,i){const a=(0,r.up)("ScheduleView"),c=(0,r.up)("Message");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o.currentUser?((0,r.wg)(),(0,r.iD)("div",v,[M,(0,r._)("form",null,[(0,r._)("div",C,[D,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":s[0]||(s[0]=e=>o.currentUser.name=e)},null,512),[[U.nr,o.currentUser.name]])]),(0,r._)("div",I,[x,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"surname","onUpdate:modelValue":s[1]||(s[1]=e=>o.currentUser.surname=e)},null,512),[[U.nr,o.currentUser.surname]])]),(0,r._)("div",Z,[E,(0,r.wy)((0,r._)("input",{type:"number",class:"form-control",id:"phone","onUpdate:modelValue":s[2]||(s[2]=e=>o.currentUser.phone=e)},null,512),[[U.nr,o.currentUser.phone]])]),(0,r._)("div",T,[(0,r._)("form",null,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>o.selected=e)},[A,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.locks,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.key},(0,n.zw)(e.ID),1)))),128))],512),[[U.bM,o.selected]])]),(0,r._)("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:s[4]||(s[4]=(...e)=>i.updateUserInfo&&i.updateUserInfo(...e))}," Update Info ")]),o.lockSelected?((0,r.wg)(),(0,r.iD)("div",L,[((0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r.Wm)(a,{show:o.showSchedule,user:o.currentUser,lock:o.selected,toggleSchedule:i.toggleSchedule},null,8,["show","user","lock","toggleSchedule"])])),o.info?((0,r.wg)(),(0,r.iD)("div",z,[(0,r._)("div",null,[(0,r.Uk)((0,n.zw)(o.info.lockInfo)+" ",1),F]),(0,r._)("div",null,[(0,r.Uk)("Current authentication type: "+(0,n.zw)(o.info.authType)+" ",1),P]),(0,r._)("div",null,[(0,r.Uk)((0,n.zw)(o.info.authInfo)+" ",1),V])])):(0,r.kq)("",!0),o.fresh?((0,r.wg)(),(0,r.iD)("div",B,q)):((0,r.wg)(),(0,r.iD)("div",j,[H,(0,r.Uk)(" "+(0,n.zw)(o.blocked?"Blocked":"Unblocked")+" ",1),o.blocked?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"btn btn-sm btn-primary",onClick:s[5]||(s[5]=e=>i.updateBlocked(!1))}," Unblock ")):((0,r.wg)(),(0,r.iD)("button",{key:1,type:"button",class:"btn btn-sm btn-danger",onClick:s[6]||(s[6]=e=>i.updateBlocked(!0))}," Block "))])),(0,r._)("div",W,[O,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"code","onUpdate:modelValue":s[7]||(s[7]=e=>this.code=e)},null,512),[[U.nr,this.code]])]),(0,r._)("div",Y,[R,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"pass","onUpdate:modelValue":s[8]||(s[8]=e=>this.pass=e)},null,512),[[U.nr,this.pass]])]),(0,r._)("div",$,[o.showSchedule?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"btn btn-secondary",onClick:s[9]||(s[9]=(...e)=>i.toggleSchedule&&i.toggleSchedule(...e))}," Show Schedule ")),o.lockSelected?((0,r.wg)(),(0,r.iD)("button",{key:1,type:"button",class:"btn btn-success",onClick:s[10]||(s[10]=(...e)=>i.updateUserCred&&i.updateUserCred(...e))}," Update Credentials ")):(0,r.kq)("",!0)])])):(0,r.kq)("",!0)])])):(0,r.kq)("",!0),((0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r.Wm)(c,{messageType:o.messageType,show:o.showMessage,message:o.messageContent,closeMessage:i.closeMessage},null,8,["messageType","show","message","closeMessage"])]))],64)}var G=t(1178);const J=e=>((0,r.dD)("data-v-9226e7ee"),e=e(),(0,r.Cn)(),e),Q={class:"dialog"},X={class:"content"},ee={class:"left-content"},se={class:"schedule-list"},te=["onClick"],re={class:"text"},ne=["onClick"],le=J((()=>(0,r._)("i",{class:"bi bi-x-lg"},null,-1))),oe=[le],ie=["disabled"],ae={key:0,class:"current-schedule"},ce={class:"schedule-content"},ue={class:"form-group"},de=(0,r.Uk)(" Day: "),he=J((()=>(0,r._)("option",{disabled:"",value:""},"Select day",-1))),pe=J((()=>(0,r._)("option",null,"Monday",-1))),ge=J((()=>(0,r._)("option",null,"Tuesday",-1))),me=J((()=>(0,r._)("option",null,"Wednesday",-1))),ke=J((()=>(0,r._)("option",null,"Thursday",-1))),we=J((()=>(0,r._)("option",null,"Friday",-1))),ye=J((()=>(0,r._)("option",null,"Saturday",-1))),be=J((()=>(0,r._)("option",null,"Sunday",-1))),fe=[he,pe,ge,me,ke,we,ye,be],_e={class:"form-group"},Ue=J((()=>(0,r._)("label",{for:"start"},"Starting at",-1))),Se={class:"form-group"},ve=J((()=>(0,r._)("label",{for:"start"},"Ending at",-1))),Me={class:"save"},Ce={class:"close"},De=J((()=>(0,r._)("i",{class:"bi bi-x-lg"},null,-1))),Ie=[De],xe={key:1},Ze=J((()=>(0,r._)("h1",null,"Add schedule for user",-1))),Ee={class:"close"},Te=J((()=>(0,r._)("i",{class:"bi bi-x-lg"},null,-1))),Ae=[Te];function Le(e,s,t,l,o,i){const a=(0,r.up)("Message");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.wy)((0,r._)("div",{class:"overlay",onClick:s[7]||(s[7]=(0,U.iM)(((...e)=>t.toggleSchedule&&t.toggleSchedule(...e)),["self"]))},[(0,r._)("div",Q,[(0,r._)("div",X,[(0,r._)("div",ee,[(0,r._)("ul",se,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.schedule,((e,s)=>((0,r.wg)(),(0,r.iD)(r.HY,{key:e.key},[e.show?((0,r.wg)(),(0,r.iD)("li",{key:0,class:(0,n.C_)(["schedule",{active:o.currentIndex==s,error:e.error}]),onClick:t=>i.setActiveSchedule(e,s)},[(0,r._)("h3",re,"Entry "+(0,n.zw)(s+1),1),(0,r._)("button",{type:"button",class:"btn btn-secondary delete",onClick:(0,U.iM)((s=>i.deleteSchedule(e)),["stop"])},oe,8,ne)],10,te)):(0,r.kq)("",!0)],64)))),128))]),(0,r._)("button",{class:"new btn btn-secondary",type:"button",onClick:s[0]||(s[0]=(...e)=>i.showNextSchedule&&i.showNextSchedule(...e)),disabled:o.scheduleCount>=20}," Add next schedule ",8,ie)]),o.currentIndex>-1?((0,r.wg)(),(0,r.iD)("div",ae,[(0,r._)("div",ce,[(0,r._)("h1",null,"Entry "+(0,n.zw)(o.currentIndex+1),1),(0,r._)("div",ue,[de,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>o.currentSchedule.day=e)},fe,512),[[U.bM,o.currentSchedule.day]])]),(0,r._)("div",_e,[Ue,(0,r.wy)((0,r._)("input",{type:"time",class:"form-control",id:"start","onUpdate:modelValue":s[2]||(s[2]=e=>o.currentSchedule.start=e)},null,512),[[U.nr,o.currentSchedule.start]])]),(0,r._)("div",Se,[ve,(0,r.wy)((0,r._)("input",{type:"time",class:"form-control",id:"start","onUpdate:modelValue":s[3]||(s[3]=e=>o.currentSchedule.end=e)},null,512),[[U.nr,o.currentSchedule.end]])])]),(0,r._)("div",Me,[(0,r._)("button",{type:"button",class:"btn btn-secondary",onClick:s[4]||(s[4]=(...e)=>i.updateUserSchedule&&i.updateUserSchedule(...e))}," Update Schedule ")]),(0,r._)("div",Ce,[(0,r._)("button",{type:"button",class:"btn button-close",onClick:s[5]||(s[5]=(...e)=>t.toggleSchedule&&t.toggleSchedule(...e))},Ie)])])):((0,r.wg)(),(0,r.iD)("div",xe,[Ze,(0,r._)("div",Ee,[(0,r._)("button",{type:"button",class:"btn button-close",onClick:s[6]||(s[6]=(...e)=>t.toggleSchedule&&t.toggleSchedule(...e))},Ae)])]))])])],512),[[U.F8,t.show]]),((0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r.Wm)(a,{messageType:o.messageType,show:o.showMessage,message:o.messageContent,closeMessage:i.closeMessage},null,8,["messageType","show","message","closeMessage"])]))],64)}var ze=t(6797),Fe=t.n(ze),Pe=t(6170),Ve={name:"scheduleView",props:["show","user","lock","toggleSchedule"],components:{Message:Pe.Z},data(){return{schedule:[],scheduleCount:"",currentSchedule:{show:!1,error:!1,start:"00:00",end:"00:00",day:"Monday"},currentIndex:-1,showMessage:!1,messageType:"",messageContent:""}},watch:{lock:function(){let e="/locks/"+this.lock+"/schedule/"+this.user.id;(0,G.jM)(_.Z.getFromPath(e),(e=>{let s=e;this.getCurrentSchedule(s)}))}},methods:{printMessage(e,s){this.showMessage=!0,this.messageType=e,this.messageContent=s},closeMessage(){this.showMessage=!1},setActiveSchedule(e,s){this.currentSchedule=e,this.currentIndex=s},updateUserSchedule(){let e=this.schedule;if(this.validateSchedule(e))if(this.checkRedundantSchedule(e)){this.clearSchedule();let s=1;for(let t=0;t<e.length;t++)if(e[t].show){let r=e[t].start.split(":"),n=e[t].end.split(":"),l={day:e[t].day,startHour:r[0],startMin:r[1],endHour:n[0],endMin:n[1]};this.updateSchedule(l,s),s++}}else this.printMessage("warning","There is one or more redundant schedule, check and try again!");else this.printMessage("warning","Starting time must be before leaving time!")},validateSchedule(e){let s="hh:mm",t=!0;for(let r=0;r<e.length;r++)e[r].show&&(Fe()(e[r].start,s).isAfter(Fe()(e[r].end,s))||e[r].start==e[r].end)&&(e[r].error=!0,t=!1);return t},checkRedundantSchedule(e){let s,t=!0,r="hh:mm";for(let n=0;n<e.length;n++)if(e[n].show){s=e[n];for(let l=n+1;l<e.length;l++)e[l].show&&s.day===e[l].day&&(s.start!=e[l].start&&s.end!=e[l].start&&s.start!=e[l].end||(s.error=!0,e[l].error=!0,t=!1),(Fe()(e[l].start,r).isBetween(Fe()(s.start,r),Fe()(s.end,r))||Fe()(e[l].end,r).isBetween(Fe()(s.start,r),Fe()(s.end,r))||Fe()(s.start,r).isBetween(Fe()(e[l].start,r),Fe()(e[l].end,r))||Fe()(s.end,r).isBetween(Fe()(e[l].start,r),Fe()(e[l].end,r)))&&(s.error=!0,e[l].error=!0,t=!1))}return t},updateSchedule(e,s){const t={};t["/locks/"+this.lock+"/schedule/"+this.user.id+"/SID"+s+"/day"]=e.day,t["/locks/"+this.lock+"/schedule/"+this.user.id+"/SID"+s+"/start/hour"]=e.startHour,t["/locks/"+this.lock+"/schedule/"+this.user.id+"/SID"+s+"/start/min"]=e.startMin,t["/locks/"+this.lock+"/schedule/"+this.user.id+"/SID"+s+"/end/hour"]=e.endHour,t["/locks/"+this.lock+"/schedule/"+this.user.id+"/SID"+s+"/end/min"]=e.endMin,_.Z.update(t).then((()=>{this.printMessage("success","The User's schedule was updated successfully!")})).catch((e=>{this.printMessage("danger","Error occured, report it to administrator!"),console.log(e)}))},clearSchedule(){const e={};e["/locks/"+this.lock+"/schedule/"+this.user.id]=null,_.Z.update(e).then((()=>{})).catch((e=>{this.printMessage("danger","Error occured, report it to administrator!"),console.log(e)}))},setSchedule(){for(let e=0;e<20;e++)this.schedule.push({show:!1,error:!1,start:"00:00",end:"00:00",day:"Monday"})},showNextSchedule(){for(let e=0;e<20;e++){if("undefined"===typeof this.schedule[e]){this.scheduleCount++,this.schedule.push({show:!0,error:!1,start:"00:00",end:"00:00",day:"Friday"}),0==e&&this.setActiveSchedule(this.schedule[e],e);break}if(!this.schedule[e].show){this.scheduleCount++,this.schedule[e].show=!0,this.schedule[e].error=!1;break}}},deleteSchedule(e){e.show=!1,e.error=!1,this.scheduleCount--,this.currentSchedule==e&&this.showLast()},showLast(){let e,s;for(let t=0;t<this.schedule.length;t++)this.schedule[t].show&&(e=this.schedule[t],s=t);this.setActiveSchedule(e,s)},getCurrentSchedule(e){if(e.exists()){let s=[];this.scheduleCount=0,e.forEach((e=>{this.scheduleCount++;let t=e.val();s.push({day:t.day,start:t.start.hour+":"+t.start.min,end:t.end.hour+":"+t.end.min,show:!0,error:!1})})),this.schedule=s,this.currentIndex=0,this.currentSchedule=s[0]}else this.currentIndex=-1,this.schedule=[]}},beforeMount(){let e="/locks/"+this.lock+"/schedule/"+this.user.id;(0,G.jM)(_.Z.getFromPath(e),(e=>{let s=e;this.getCurrentSchedule(s)}))},mounted(){window.addEventListener("keydown",(e=>{"Escape"==e.key&&this.toggleSchedule()}))},unmounted(){window.removeEventListener("keydown",(e=>{"Escape"==e.key&&this.toggleSchedule()}))}},je=t(89);const He=(0,je.Z)(Ve,[["render",Le],["__scopeId","data-v-9226e7ee"]]);var Be=He,Ne={name:"user-s",props:["user"],components:{ScheduleView:Be,Message:Pe.Z},data(){return{currentUser:null,locks:[],code:"",pass:"",blocked:"",fresh:"",selected:"",info:[],lockSelected:!1,showSchedule:!1,showMessage:!1,messageType:"",messageContent:""}},watch:{user:function(e){this.currentUser={...e},this.selected="",this.lockSelected=!1},selected:function(){""!==this.selected&&(this.code=this.pass=this.blocked="",this.selectLock())}},methods:{printMessage(e,s){this.showMessage=!0,this.messageType=e,this.messageContent=s},closeMessage(){this.showMessage=!1},toggleSchedule(){this.showSchedule=!this.showSchedule},updateBlocked(e){const s={};s["/locks/"+this.selected+"/users/"+this.code+"/blocked"]=e,_.Z.update(s).then((()=>{this.blocked=e,this.printMessage("success","The status was updated successfully!")})).catch((e=>{this.printMessage("danger","Error occured, report it to administrator!"),console.log(e)}))},updateUserInfo(){if(this.validateUserInfo()){this.capitalizeFirstLetter();const e={};e["/users/"+this.currentUser.key+"/name"]=this.currentUser.name,e["/users/"+this.currentUser.key+"/surname"]=this.currentUser.surname,e["/users/"+this.currentUser.key+"/phone"]=this.currentUser.phone,_.Z.update(e).then((()=>{this.printMessage("success","The User's info was updated successfully!")})).catch((e=>{this.printMessage("danger","Error occured, report it to administrator!"),console.log(e)}))}},validateUserInfo(){return""==this.currentUser.name?(this.printMessage("warning","Name cannot be empty."),!1):/^[a-zA-ZąęśżźćółńĄĘŚŻŹĆÓŁŃ]+$/.test(this.currentUser.name)?""==this.currentUser.surname?(this.printMessage("warning","Surname cannot be empty."),!1):/^[A-Za-ząęśżźćółńĄĘŚŻŹĆÓŁŃ-]+$/.test(this.currentUser.surname)?""==this.currentUser.phone?(this.printMessage("warning","Phone cannot be empty"),!1):!(this.currentUser.phone.toString().length<9||this.currentUser.phone.toString().length>11)||(this.printMessage("warning","Phone number has to have 9 to 11 characters."),!1):(this.printMessage("warning","Surname can contain only letters from polish alphabet and - in case of double surname."),!1):(this.printMessage("warning","Name can contain only letters from polish alphabet."),!1)},capitalizeFirstLetter(){this.currentUser.name=this.currentUser.name.charAt(0).toUpperCase()+this.currentUser.name.slice(1),this.currentUser.surname=this.currentUser.surname.charAt(0).toUpperCase()+this.currentUser.surname.slice(1),this.currentUser.surname.indexOf("-")>=0&&(this.currentUser.surname=this.currentUser.surname.slice(0,this.currentUser.surname.indexOf("-")+1)+this.currentUser.surname.charAt(this.user.surname.indexOf("-")+1).toUpperCase()+this.currentUser.surname.slice(this.currentUser.surname.indexOf("-")+2))},updateUserCred(){let e="/locks/"+this.selected+"/users/"+this.code,s=!1;if(!this.validateCredentials())return void this.printMessage("warning","There is problem with code or password, available characters: 0-9 and A-D, length should be between 3-6");if((0,G.jM)(_.Z.getFromPath(e),(e=>{e.exists()&&this.currentUser.id!=e.val().ID&&(s=!0)})),s)return void this.printMessage("warning","This code is already in use!");const t={};e="/locks/"+this.selected+"/users";const r=_.Z.getFromPath(e),n=(0,G.IO)(r,(0,G.g2)("ID"),(0,G.EW)(this.currentUser.id));(0,G.U2)(n).then((e=>{if(e.exists()){let s;e.forEach((e=>{s=e.key})),s!=this.code&&(t["/locks/"+this.selected+"/users/"+s]=null,_.Z.update(t).then((()=>{})).catch((e=>{this.printMessage("danger","Error occured, report it to administrator!"),console.log(e)})))}})),!this.blocked&&this.blocked?t["/locks/"+this.selected+"/users/"+this.code+"/blocked"]=!0:t["/locks/"+this.selected+"/users/"+this.code+"/blocked"]=this.blocked,t["/locks/"+this.selected+"/users/"+this.code+"/ID"]=this.currentUser.id,t["/locks/"+this.selected+"/users/"+this.code+"/pass"]=this.pass,_.Z.update(t).then((()=>{this.printMessage("success","The User's credentials was updated successfully!")})).catch((e=>{this.printMessage("danger","Error occured, report it to administrator!"),console.log(e)}))},validateCredentials(){return!!/^[A-D0-9]{3,6}$/.test(this.code)&&!!/^[A-D0-9]{3,6}$/.test(this.pass)},onDataChange(e){let s=[];e.forEach((e=>{s.push({ID:e.key})})),this.locks=s},selectLock(){this.lockSelected=!0,this.code=this.pass="";let e="/locks/"+this.selected+"/users";const s=_.Z.getFromPath(e),t=(0,G.IO)(s,(0,G.g2)("ID"),(0,G.EW)(this.currentUser.id));(0,G.jM)(t,(e=>{this.getCurrentCredentials(e)})),this.getLockInfo()},getLockInfo(){let e,s="/locks/"+this.selected+"/info";(0,G.jM)(_.Z.getFromPath(s),(s=>{e=s,this.info=e.val()}))},getCurrentCredentials(e){this.fresh=!0,e.forEach((e=>{this.code=e.key,this.pass=e.val().pass,this.blocked=e.val().blocked,this.fresh=!1}))}},mounted(){let e;this.currentUser={...this.user},(0,G.jM)(_.Z.getFromPath("/locksList"),(s=>{e=s,this.onDataChange(e)}))}};const qe=(0,je.Z)(Ne,[["render",K],["__scopeId","data-v-1df86b43"]]);var We=qe,Oe=t(5871),Ye={name:"users-list",components:{UserDetails:We,MainLayout:Oe.Z},data(){return{users:[],currentUser:null,currentIndex:-1}},methods:{onDataChange(e){let s=[];e.forEach((e=>{let t=e.val();s.push({key:e.key,name:t.name,surname:t.surname,id:t.id,password:t.password,phone:t.phone})})),this.users=s},refreshList(){this.currentUser=null,this.currentIndex=-1},setActiveUser(e,s){this.currentUser!==e?(this.currentUser=e,this.currentIndex=s):this.refreshList()}},mounted(){let e;(0,G.jM)(_.Z.getFromPath("/users"),(s=>{e=s,this.onDataChange(e)}))}};const Re=(0,je.Z)(Ye,[["render",f],["__scopeId","data-v-37761c71"]]);var $e=Re}}]);
//# sourceMappingURL=147.3bdb2dc2.js.map