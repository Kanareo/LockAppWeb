{"version":3,"file":"js/2.9ed8d270.js","mappings":"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","sources":["webpack://vue-app/./src/services/DataService.js","webpack://vue-app/./src/components/AddUser.vue","webpack://vue-app/./src/components/AddUser.vue?a73a","webpack://vue-app/./src/components/MainLayout.vue","webpack://vue-app/./src/components/NavBar.vue","webpack://vue-app/./src/components/NavBar.vue?01fd","webpack://vue-app/./src/components/MainLayout.vue?71ff","webpack://vue-app/./src/components/Message.vue","webpack://vue-app/./src/components/Message.vue?ede3"],"sourcesContent":["import { ref, set, child, push, update } from \"firebase/database\";\r\nimport { database } from \"../firebase\";\r\n\r\nclass DataService {\r\n  /*getAll() {\r\n    const db = ref(database, \"/users\");\r\n    return db;\r\n  }\r\n  getAllLocks() {\r\n    const db = ref(database, \"/locks\");\r\n    return db;\r\n  }\r\n  getUserCredentials(lock, user) {\r\n    const db = ref(database, \"/locks/\" + lock + \"/users/\" + user);\r\n    return db;\r\n  }\r\n  getUserSchedule(lock, user) {\r\n    const db = ref(database, \"/locks/\" + lock + \"/schedule/\" + user);\r\n    return db;\r\n  }*/\r\n  getFromPath(path) {\r\n    const db = ref(database, path);\r\n    return db;\r\n  }\r\n  create(user) {\r\n    const newPostKey = push(child(ref(database), \"/users\")).key;\r\n    //console.log(user, newPostKey);\r\n    return set(ref(database, \"/users/\" + newPostKey), {\r\n      name: user.name,\r\n      surname: user.surname,\r\n      id: user.id,\r\n      phone: user.phone,\r\n    });\r\n  }\r\n  createEmployee(employee) {\r\n    const newPostKey = push(child(ref(database), \"/employees\")).key;\r\n    //console.log(user, newPostKey);\r\n    return set(ref(database, \"/employees/\" + newPostKey), {\r\n      name: employee.name,\r\n      surname: employee.surname,\r\n      email: employee.email,\r\n      id: employee.id,\r\n      phone: employee.phone,\r\n      role: employee.role,\r\n    });\r\n  }\r\n  update(updates) {\r\n    return update(ref(database), updates);\r\n  }\r\n}\r\nexport default new DataService();\r\n","<template>\r\n  <MainLayout>\r\n    <div class=\"content\">\r\n      <div class=\"wrapper\">\r\n        <div class=\"form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"name\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"name\"\r\n              required\r\n              v-model=\"user.name\"\r\n              name=\"name\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"description\">Surname</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"surname\"\r\n              required\r\n              v-model=\"user.surname\"\r\n              name=\"surname\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"description\">Phone</label>\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"phone\"\r\n              required\r\n              v-model=\"user.phone\"\r\n              name=\"phone\"\r\n            />\r\n          </div>\r\n          <button @click=\"saveUser\" class=\"btn btn-success\">Submit</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Teleport to=\"body\">\r\n      <Message\r\n        :messageType=\"messageType\"\r\n        :show=\"showMessage\"\r\n        :message=\"messageContent\"\r\n        :closeMessage=\"closeMessage\"\r\n      />\r\n    </Teleport>\r\n  </MainLayout>\r\n</template>\r\n<script>\r\nimport DataService from \"../services/DataService\";\r\nimport { onValue } from \"firebase/database\";\r\nimport Message from \"./Message\";\r\nimport MainLayout from \"./MainLayout\";\r\nexport default {\r\n  name: \"add-user\",\r\n  components: { Message, MainLayout },\r\n  data() {\r\n    return {\r\n      user: {\r\n        name: \"\",\r\n        surname: \"\",\r\n        id: \"\",\r\n        phone: \"\",\r\n      },\r\n      users: [],\r\n      submitted: false,\r\n      alert: \"\",\r\n      showMessage: false,\r\n      messageType: \"\",\r\n      messageContent: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    printMessage(type, message) {\r\n      this.showMessage = true;\r\n      this.messageType = type;\r\n      this.messageContent = message;\r\n    },\r\n    closeMessage() {\r\n      this.showMessage = false;\r\n    },\r\n    saveUser() {\r\n      if (this.validate()) {\r\n        this.capitalizeFirstLetter();\r\n        var data = {\r\n          name: this.user.name,\r\n          surname: this.user.surname,\r\n          id: this.setId(),\r\n          phone: this.user.phone,\r\n        };\r\n        DataService.create(data)\r\n          .then(() => {\r\n            //console.log(\"Created user successfully!\");\r\n            this.submitted = true;\r\n            this.printMessage(\"success\", this.alert);\r\n            //alert(this.alert);\r\n            this.newUser();\r\n          })\r\n          .catch((e) => {\r\n            this.printMessage(\r\n              \"danger\",\r\n              \"Error occured, report it to administrator!\"\r\n            );\r\n            console.log(e);\r\n          });\r\n      } else {\r\n        this.printMessage(\"warning\", this.alert);\r\n        //alert(this.alert)\r\n      }\r\n    },\r\n    capitalizeFirstLetter() {\r\n      this.user.name =\r\n        this.user.name.charAt(0).toUpperCase() + this.user.name.slice(1);\r\n      this.user.surname =\r\n        this.user.surname.charAt(0).toUpperCase() + this.user.surname.slice(1);\r\n      if (this.user.surname.indexOf(\"-\") >= 0) {\r\n        this.user.surname =\r\n          this.user.surname.slice(0, this.user.surname.indexOf(\"-\") + 1) +\r\n          this.user.surname\r\n            .charAt(this.user.surname.indexOf(\"-\") + 1)\r\n            .toUpperCase() +\r\n          this.user.surname.slice(this.user.surname.indexOf(\"-\") + 2);\r\n      }\r\n    },\r\n    setId() {\r\n      let id;\r\n      if (this.users.length === 0) {\r\n        id = 1;\r\n      } else {\r\n        let lastID = this.users[this.users.length - 1].id;\r\n        id = lastID.replace(\"ID\", \"\");\r\n        id++;\r\n        //console.log(this.users[this.users.length-1].id);\r\n        //console.log(id);\r\n        //zmienic na pobieranie tylko ostatniego usera i sprawdzenie jego id;\r\n      }\r\n      const newId = \"ID\" + id;\r\n      //console.log(newId);\r\n      return newId;\r\n    },\r\n    newUser() {\r\n      this.user = {\r\n        name: \"\",\r\n        surname: \"\",\r\n        id: \"\",\r\n        phone: \"\",\r\n        blocked: true,\r\n      };\r\n      this.alert = \"\";\r\n    },\r\n    validate() {\r\n      this.alert = \"\";\r\n      if (this.user.name == \"\") {\r\n        this.alert += \"Name cannot be empty. \";\r\n      }\r\n      if (!/^[A-Za-ząęśżźćółńĄĘŚŻŹĆÓŁŃ]+$/.test(this.user.name)) {\r\n        this.alert += \"Name can contain only letters from polish alphabet. \";\r\n      }\r\n      if (this.user.surname == \"\") {\r\n        this.alert += \"Surname cannot be empty. \";\r\n      }\r\n      if (!/^[A-Za-ząęśżźćółńĄĘŚŻŹĆÓŁŃ-]+$/.test(this.user.surname)) {\r\n        this.alert +=\r\n          \"Surname can contain only letters from polish alphabet and - in case of double surname. \";\r\n      }\r\n      if (this.user.phone == \"\") {\r\n        this.alert += \"Phone cannot be empty \\n\";\r\n      } else if (\r\n        this.user.phone.toString().length < 9 ||\r\n        this.user.phone.toString().length > 11\r\n      ) {\r\n        this.alert += \"Phone number has to have 9 to 11 characters. \";\r\n      }\r\n      if (this.alert === \"\") {\r\n        this.alert += \"User created successfully!\";\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    onDataChange(items) {\r\n      let _users = [];\r\n      items.forEach((item) => {\r\n        let data = item.val();\r\n        _users.push({\r\n          key: item.key,\r\n          name: data.name,\r\n          surname: data.surname,\r\n          id: data.id,\r\n          password: data.password,\r\n          phone: data.phone,\r\n          blocked: data.blocked,\r\n        });\r\n      });\r\n      this.users = _users;\r\n    },\r\n  },\r\n  mounted() {\r\n    let data;\r\n    // onValue(DataService.getAll(), (snapshot) => {\r\n    //   data = snapshot;\r\n    //   this.onDataChange(data);\r\n    // });\r\n    onValue(DataService.getFromPath(\"/users\"), (snapshot) => {\r\n      data = snapshot;\r\n      this.onDataChange(data);\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.content {\r\n  overflow-y: auto;\r\n  display: flex;\r\n}\r\n\r\n.wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n  margin: 1rem;\r\n  padding: 1rem;\r\n  gap: 1rem;\r\n  background-color: #b1b1b1;\r\n  border-radius: 0.5rem;\r\n  overflow-y: auto;\r\n  box-shadow: 0px -1px 10px 4px #141414a6;\r\n}\r\n.form {\r\n  width: 60%;\r\n}\r\n</style>\r\n","import { render } from \"./AddUser.vue?vue&type=template&id=527a683c&scoped=true\"\nimport script from \"./AddUser.vue?vue&type=script&lang=js\"\nexport * from \"./AddUser.vue?vue&type=script&lang=js\"\n\nimport \"./AddUser.vue?vue&type=style&index=0&id=527a683c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Teczka Michała J\\\\Studia\\\\Inżynierka\\\\vue-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-527a683c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"layout\">\r\n    <NavBar />\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport NavBar from \"./NavBar\";\r\nexport default {\r\n  name: \"users-list\",\r\n  components: { NavBar },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {},\r\n  mounted() {},\r\n};\r\n</script>\r\n<style scoped>\r\n.layout {\r\n  display: grid;\r\n  grid-template-rows: auto 1fr;\r\n  min-height: 100%;\r\n  max-height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <nav v-if=\"logged\" class=\"navbar bg-dark\">\r\n    <div class=\"links\">\r\n      <div class=\"logo\">\r\n        <router-link to=\"/\" class=\"logo-link\">LockManage</router-link>\r\n      </div>\r\n      <ul class=\"nav\">\r\n        <router-link to=\"/users\" class=\"nav-link\" v-if=\"loggedRole === 'Admin'\">\r\n          <li class=\"item\">Users</li>\r\n        </router-link>\r\n        <router-link to=\"/add\" class=\"nav-link\" v-if=\"loggedRole === 'Admin'\">\r\n          <li class=\"item\">Add User</li>\r\n        </router-link>\r\n        <router-link\r\n          to=\"/addEmployee\"\r\n          class=\"nav-link\"\r\n          v-if=\"loggedRole === 'Admin'\"\r\n        >\r\n          <li class=\"item\">Add Employee</li>\r\n        </router-link>\r\n        <router-link\r\n          to=\"/addLock\"\r\n          class=\"nav-link\"\r\n          v-if=\"loggedRole === 'Admin'\"\r\n        >\r\n          <li class=\"item\">Add Lock</li>\r\n        </router-link>\r\n        <router-link to=\"/sim\" class=\"nav-link\" v-if=\"loggedRole === 'Admin'\">\r\n          <li class=\"item\">Simulator</li>\r\n        </router-link>\r\n      </ul>\r\n    </div>\r\n    <div class=\"buttons\">\r\n      <div class=\"reset\">\r\n        <button @click=\"resetPassword\" class=\"btn btn-secondary\">\r\n          Reset password\r\n        </button>\r\n      </div>\r\n      <div class=\"logout\">\r\n        <button @click=\"logout\" class=\"btn btn-secondary\">Logout</button>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n  <Teleport to=\"body\">\r\n    <Message\r\n      :messageType=\"messageType\"\r\n      :show=\"showMessage\"\r\n      :message=\"messageContent\"\r\n      :closeMessage=\"closeMessage\"\r\n    />\r\n  </Teleport>\r\n</template>\r\n\r\n<script>\r\nimport { auth } from \"@/firebase\";\r\nimport { sendPasswordResetEmail } from \"firebase/auth\";\r\nimport Message from \"./Message\";\r\n\r\nexport default {\r\n  name: \"nav-bar\",\r\n  components: { Message },\r\n  setup() {\r\n    const logout = () => {\r\n      auth.signOut(auth);\r\n      sessionStorage.clear();\r\n    };\r\n    return { logout };\r\n  },\r\n  data() {\r\n    return {\r\n      logged: false,\r\n      loggedRole: \"\",\r\n      showMessage: false,\r\n      messageType: \"\",\r\n      messageContent: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    printMessage(type, message) {\r\n      this.showMessage = true;\r\n      this.messageType = type;\r\n      this.messageContent = message;\r\n    },\r\n    closeMessage() {\r\n      this.showMessage = false;\r\n    },\r\n    resetPassword() {\r\n      sendPasswordResetEmail(auth, auth.currentUser.email)\r\n        .then(() => {\r\n          this.printMessage(\r\n            \"success\",\r\n            \"Password resent sent, check your mailbox!\"\r\n          );\r\n          //alert(\"Password resent sent, check your mailbox!\");\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          (\"Error occured, report it to administrator!\");\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    if (auth.currentUser) {\r\n      this.logged = true;\r\n      this.loggedRole = sessionStorage.getItem(\"role\");\r\n      //console.log(this.loggedRole);\r\n    } else this.logged = false;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container h2 {\r\n  text-align: center;\r\n  margin: 25px auto;\r\n}\r\n.nav .nav-link {\r\n  color: #cacaca;\r\n  display: flex;\r\n}\r\n.nav .nav-link:hover {\r\n  background-color: rgb(95, 95, 95);\r\n}\r\na:hover {\r\n  text-decoration: none;\r\n}\r\n.nav .router-link-active {\r\n  background-color: rgb(95, 95, 95);\r\n}\r\n.links {\r\n  display: flex;\r\n}\r\n.item {\r\n  transition: 250ms background-color ease-in-out;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.navbar {\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: stretch;\r\n}\r\n.logo {\r\n  margin: 1rem;\r\n}\r\n.logo-link {\r\n  color: #cacaca;\r\n}\r\n.buttons {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.logout,\r\n.reset {\r\n  margin-right: 0.5rem;\r\n}\r\n</style>\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=d5aeafae&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=d5aeafae&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Teczka Michała J\\\\Studia\\\\Inżynierka\\\\vue-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d5aeafae\"]])\n\nexport default __exports__","import { render } from \"./MainLayout.vue?vue&type=template&id=1b0e5f23&scoped=true\"\nimport script from \"./MainLayout.vue?vue&type=script&lang=js\"\nexport * from \"./MainLayout.vue?vue&type=script&lang=js\"\n\nimport \"./MainLayout.vue?vue&type=style&index=0&id=1b0e5f23&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Teczka Michała J\\\\Studia\\\\Inżynierka\\\\vue-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b0e5f23\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"alert\" :class=\"type\" role=\"alert\" v-if=\"show\">\r\n    {{ message }}\r\n    <div class=\"close\">\r\n      <button type=\"button\" class=\"btn button-close\" @click=\"closeMessage\">\r\n        <i class=\"bi bi-x-lg\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"alert-message\",\r\n  props: [\"show\", \"message\", \"closeMessage\", \"messageType\"],\r\n  data() {\r\n    return {\r\n      type: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    messageType: function () {\r\n      this.type = \"alert-\" + this.messageType;\r\n    },\r\n  },\r\n  methods: {},\r\n  mounted() {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.alert {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  margin: 1em;\r\n  border-radius: 0.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  box-shadow: #00000070 0 0 9px 2px;\r\n  transform: translateY(-100%);\r\n  animation: slideIn 250ms cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards;\r\n}\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0%);\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Message.vue?vue&type=template&id=89fa32fe&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\n\nimport \"./Message.vue?vue&type=style&index=0&id=89fa32fe&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Teczka Michała J\\\\Studia\\\\Inżynierka\\\\vue-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-89fa32fe\"]])\n\nexport default __exports__"],"names":["DataService","getFromPath","path","db","ref","database","create","user","newPostKey","push","child","key","set","name","surname","id","phone","createEmployee","employee","email","role","update","updates","class","_createElementVNode","for","_createBlock","_component_MainLayout","_hoisted_5","type","required","$data","$event","_hoisted_7","_hoisted_9","onClick","$options","_Teleport","to","_createVNode","_component_Message","messageType","show","message","closeMessage","components","Message","MainLayout","data","users","submitted","alert","showMessage","messageContent","methods","printMessage","this","saveUser","validate","capitalizeFirstLetter","setId","then","newUser","catch","e","console","log","charAt","toUpperCase","slice","indexOf","length","lastID","replace","newId","blocked","test","toString","onDataChange","items","_users","forEach","item","val","password","mounted","onValue","snapshot","__exports__","render","_createElementBlock","_component_NavBar","_renderSlot","_ctx","undefined","_component_router_link","_hoisted_6","_hoisted_8","_hoisted_10","$setup","setup","logout","auth","sessionStorage","clear","logged","loggedRole","resetPassword","sendPasswordResetEmail","getItem","NavBar","_hoisted_2","$props","props","watch"],"sourceRoot":""}