{"version":3,"file":"js/147.3bdb2dc2.js","mappings":"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","sources":["webpack://vue-app/./src/components/UsersList.vue","webpack://vue-app/./src/components/User.vue","webpack://vue-app/./src/components/ScheduleView.vue","webpack://vue-app/./src/components/ScheduleView.vue?3e9a","webpack://vue-app/./src/components/User.vue?1726","webpack://vue-app/./src/components/UsersList.vue?f02a"],"sourcesContent":["<template>\r\n  <MainLayout>\r\n    <div class=\"content\">\r\n      <div class=\"wrapper\">\r\n        <!-- <div class=\"item\">\r\n          <h4>Users List</h4>\r\n          <table class=\"table table-striped table-dark\">\r\n            <thead class=\"table-head\">\r\n              <tr class=\"table-dsc\">\r\n                <th scope=\"col\">Name</th>\r\n                <th scope=\"col\">Surname</th>\r\n                <th scope=\"col\">Details</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"table-content\">\r\n              <tr class=\"table-item\" v-for=\"item in this.users\" :key=\"item.id\">\r\n                <td>{{ item.name }}</td>\r\n                <td>{{ item.surname }}</td>\r\n                <td>\r\n                  <button\r\n                    class=\"btn btn-outline-warning\"\r\n                    @click=\"setActiveUser(item, index)\"\r\n                  >\r\n                    <i class=\"bi bi-search\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div> -->\r\n        <div class=\"item-users\">\r\n          <h4>Users List</h4>\r\n          <ul class=\"list-head\">\r\n            <div class=\"list-head-top\">\r\n              <li class=\"list-head-item\">Name</li>\r\n              <li class=\"list-head-item\">Surname</li>\r\n              <li class=\"list-head-item grid-right\">Details</li>\r\n            </div>\r\n          </ul>\r\n          <ul class=\"list-items\">\r\n            <template v-for=\"(item, index) in this.users\" :key=\"item.id\">\r\n              <div class=\"list-item\">\r\n                <li class=\"list-item-properties\">\r\n                  {{ item.name }}\r\n                </li>\r\n                <li class=\"list-item-properties\">\r\n                  {{ item.surname }}\r\n                </li>\r\n                <li class=\"list-item-properties grid-right\">\r\n                  <button\r\n                    class=\"btn btn-outline-warning\"\r\n                    @click=\"setActiveUser(item, index)\"\r\n                  >\r\n                    <i class=\"bi bi-search\"></i>\r\n                  </button>\r\n                </li>\r\n              </div>\r\n            </template>\r\n          </ul>\r\n        </div>\r\n        <div class=\"item\">\r\n          <div v-if=\"currentUser\">\r\n            <user-details :user=\"currentUser\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </MainLayout>\r\n</template>\r\n<script>\r\nimport DataService from \"../services/DataService\";\r\nimport UserDetails from \"./User\";\r\nimport { onValue } from \"firebase/database\";\r\nimport MainLayout from \"./MainLayout\";\r\nexport default {\r\n  name: \"users-list\",\r\n  components: { UserDetails, MainLayout },\r\n  data() {\r\n    return {\r\n      users: [],\r\n      currentUser: null,\r\n      currentIndex: -1,\r\n    };\r\n  },\r\n  methods: {\r\n    onDataChange(items) {\r\n      let _users = [];\r\n      items.forEach((item) => {\r\n        let data = item.val();\r\n        _users.push({\r\n          key: item.key,\r\n          name: data.name,\r\n          surname: data.surname,\r\n          id: data.id,\r\n          password: data.password,\r\n          phone: data.phone,\r\n        });\r\n      });\r\n      this.users = _users;\r\n    },\r\n    refreshList() {\r\n      this.currentUser = null;\r\n      this.currentIndex = -1;\r\n    },\r\n    setActiveUser(user, index) {\r\n      if (this.currentUser === user) {\r\n        this.refreshList();\r\n        return;\r\n      }\r\n      this.currentUser = user;\r\n      this.currentIndex = index;\r\n    },\r\n  },\r\n  mounted() {\r\n    let data;\r\n    // onValue(DataService.getAll(), (snapshot) => {\r\n    //   data = snapshot;\r\n    //   this.onDataChange(data);\r\n    // });\r\n    onValue(DataService.getFromPath(\"/users\"), (snapshot) => {\r\n      data = snapshot;\r\n      this.onDataChange(data);\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.content {\r\n  overflow-y: auto;\r\n  display: flex;\r\n}\r\n\r\n.wrapper {\r\n  display: grid;\r\n  grid-template-columns: 4fr 6fr;\r\n  width: 100%;\r\n  margin: 1rem;\r\n  padding: 1rem;\r\n  gap: 1rem;\r\n  background-color: #b1b1b1;\r\n  border-radius: 0.5rem;\r\n  overflow-y: auto;\r\n  box-shadow: 0px -1px 10px 4px #141414a6;\r\n}\r\n\r\n/* .table {\r\n  display: block;\r\n  max-height: 80%;\r\n  overflow-y: scroll;\r\n}\r\n\r\n.table-head {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #343a40;\r\n}\r\n\r\n.table-dsc {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.table-dsc th {\r\n  width: 33%;\r\n  text-align: left;\r\n}\r\n\r\n.table-dsc th:nth-of-type(2) {\r\n  text-align: left;\r\n}\r\n\r\n.table-dsc th:last-of-type {\r\n  text-align: right;\r\n}\r\n\r\n.table-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.table-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.table-item td {\r\n  width: 33%;\r\n  text-align: left;\r\n}\r\n\r\n.table-item td:nth-of-type(2) {\r\n  text-align: left;\r\n}\r\n\r\n.table-item td:last-of-type {\r\n  text-align: right;\r\n} */\r\n.item-users {\r\n  overflow-y: auto;\r\n}\r\n\r\nul li {\r\n  list-style-type: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.list-head {\r\n  display: flex;\r\n  color: #fff;\r\n  font-weight: bold;\r\n  background-color: #343a40;\r\n  margin: 0;\r\n  padding: 0.75rem;\r\n}\r\n.list-head-top {\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n}\r\n\r\n.list-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: #fff;\r\n  background-color: #343a40;\r\n  padding: 0;\r\n  overflow-y: auto;\r\n  max-height: 85%;\r\n}\r\n.list-item {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0.75rem;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n}\r\n.list-item:nth-child(2n + 1) {\r\n  background-color: #3e444a;\r\n}\r\n\r\n.grid-right {\r\n  justify-self: end;\r\n}\r\n</style>\r\n","<template>\r\n  <div v-if=\"currentUser\" class=\"edit-form\">\r\n    <h4>User</h4>\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label for=\"name\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"name\"\r\n          v-model=\"currentUser.name\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"surname\">Surname</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"surname\"\r\n          v-model=\"currentUser.surname\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"phone\">Phone</label>\r\n        <input\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          id=\"phone\"\r\n          v-model=\"currentUser.phone\"\r\n        />\r\n      </div>\r\n      <div class=\"options-field\">\r\n        <form>\r\n          <select v-model=\"selected\">\r\n            <option disabled value=\"\">Select lock</option>\r\n            <option v-for=\"item in this.locks\" :key=\"item.key\">\r\n              {{ item.ID }}\r\n            </option>\r\n          </select>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-sm btn-secondary\"\r\n          @click=\"updateUserInfo\"\r\n        >\r\n          Update Info\r\n        </button>\r\n      </div>\r\n      <div v-if=\"lockSelected\">\r\n        <Teleport to=\"body\">\r\n          <ScheduleView\r\n            :show=\"showSchedule\"\r\n            :user=\"currentUser\"\r\n            :lock=\"selected\"\r\n            :toggleSchedule=\"toggleSchedule\"\r\n          />\r\n        </Teleport>\r\n        <div v-if=\"info\">\r\n          <div>{{ info.lockInfo }} <br /></div>\r\n          <div>Current authentication type: {{ info.authType }} <br /></div>\r\n          <div>{{ info.authInfo }} <br /></div>\r\n        </div>\r\n        <div class=\"form-group\" v-if=\"!fresh\">\r\n          <label><strong>Status:</strong></label>\r\n          {{ blocked ? \"Blocked\" : \"Unblocked\" }}\r\n\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-sm btn-primary\"\r\n            v-if=\"blocked\"\r\n            @click=\"updateBlocked(false)\"\r\n          >\r\n            Unblock\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            v-else\r\n            class=\"btn btn-sm btn-danger\"\r\n            @click=\"updateBlocked(true)\"\r\n          >\r\n            Block\r\n          </button>\r\n        </div>\r\n        <div class=\"form-group\" v-else>\r\n          <label><strong>New user will be automatically blocked</strong></label>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"code\">Code</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"code\"\r\n            v-model=\"this.code\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"pass\">Password</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"pass\"\r\n            v-model=\"this.pass\"\r\n          />\r\n        </div>\r\n        <div class=\"buttons\">\r\n          <button\r\n            v-if=\"!showSchedule\"\r\n            type=\"button\"\r\n            class=\"btn btn-secondary\"\r\n            @click=\"toggleSchedule\"\r\n          >\r\n            Show Schedule\r\n          </button>\r\n          <button\r\n            v-if=\"lockSelected\"\r\n            type=\"button\"\r\n            class=\"btn btn-success\"\r\n            @click=\"updateUserCred\"\r\n          >\r\n            Update Credentials\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <Teleport to=\"body\">\r\n    <Message\r\n      :messageType=\"messageType\"\r\n      :show=\"showMessage\"\r\n      :message=\"messageContent\"\r\n      :closeMessage=\"closeMessage\"\r\n    />\r\n  </Teleport>\r\n</template>\r\n<script>\r\nimport DataService from \"../services/DataService\";\r\nimport { onValue, query, orderByChild, equalTo, get } from \"firebase/database\";\r\nimport ScheduleView from \"./ScheduleView\";\r\nimport Message from \"./Message\";\r\nexport default {\r\n  name: \"user-s\",\r\n  props: [\"user\"],\r\n  components: { ScheduleView, Message },\r\n  data() {\r\n    return {\r\n      currentUser: null,\r\n      locks: [],\r\n      code: \"\",\r\n      pass: \"\",\r\n      blocked: \"\",\r\n      fresh: \"\",\r\n      selected: \"\",\r\n      info: [],\r\n      lockSelected: false,\r\n      showSchedule: false,\r\n      showMessage: false,\r\n      messageType: \"\",\r\n      messageContent: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    user: function (user) {\r\n      this.currentUser = { ...user };\r\n      this.selected = \"\";\r\n      this.lockSelected = false;\r\n    },\r\n    selected: function () {\r\n      if (this.selected !== \"\") {\r\n        this.code = this.pass = this.blocked = \"\";\r\n        this.selectLock();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    printMessage(type, message) {\r\n      this.showMessage = true;\r\n      this.messageType = type;\r\n      this.messageContent = message;\r\n    },\r\n    closeMessage() {\r\n      this.showMessage = false;\r\n    },\r\n    toggleSchedule() {\r\n      this.showSchedule = !this.showSchedule;\r\n    },\r\n    updateBlocked(status) {\r\n      const update = {};\r\n      update[\"/locks/\" + this.selected + \"/users/\" + this.code + \"/blocked\"] =\r\n        status;\r\n      DataService.update(update)\r\n        .then(() => {\r\n          this.blocked = status;\r\n          this.printMessage(\"success\", \"The status was updated successfully!\");\r\n          //alert(\"The status was updated successfully!\");\r\n        })\r\n        .catch((e) => {\r\n          this.printMessage(\r\n            \"danger\",\r\n            \"Error occured, report it to administrator!\"\r\n          );\r\n          console.log(e);\r\n        });\r\n    },\r\n    updateUserInfo() {\r\n      //console.log(status);\r\n      if (this.validateUserInfo()) {\r\n        this.capitalizeFirstLetter();\r\n        const update = {};\r\n        update[\"/users/\" + this.currentUser.key + \"/name\"] =\r\n          this.currentUser.name;\r\n        update[\"/users/\" + this.currentUser.key + \"/surname\"] =\r\n          this.currentUser.surname;\r\n        update[\"/users/\" + this.currentUser.key + \"/phone\"] =\r\n          this.currentUser.phone;\r\n        DataService.update(update)\r\n          .then(() => {\r\n            this.printMessage(\r\n              \"success\",\r\n              \"The User's info was updated successfully!\"\r\n            );\r\n            //alert(\"The User's info was updated successfully!\");\r\n          })\r\n          .catch((e) => {\r\n            this.printMessage(\r\n              \"danger\",\r\n              \"Error occured, report it to administrator!\"\r\n            );\r\n            console.log(e);\r\n          });\r\n      }\r\n    },\r\n    validateUserInfo() {\r\n      if (this.currentUser.name == \"\") {\r\n        this.printMessage(\"warning\", \"Name cannot be empty.\");\r\n        return false;\r\n      }\r\n      if (!/^[a-zA-ZąęśżźćółńĄĘŚŻŹĆÓŁŃ]+$/.test(this.currentUser.name)) {\r\n        this.printMessage(\r\n          \"warning\",\r\n          \"Name can contain only letters from polish alphabet.\"\r\n        );\r\n        //console.log(\"test\");\r\n        return false;\r\n      }\r\n      if (this.currentUser.surname == \"\") {\r\n        this.printMessage(\"warning\", \"Surname cannot be empty.\");\r\n        return false;\r\n      }\r\n      if (!/^[A-Za-ząęśżźćółńĄĘŚŻŹĆÓŁŃ-]+$/.test(this.currentUser.surname)) {\r\n        this.printMessage(\r\n          \"warning\",\r\n          \"Surname can contain only letters from polish alphabet and - in case of double surname.\"\r\n        );\r\n        return false;\r\n      }\r\n      if (this.currentUser.phone == \"\") {\r\n        this.printMessage(\"warning\", \"Phone cannot be empty\");\r\n        return false;\r\n      } else if (\r\n        this.currentUser.phone.toString().length < 9 ||\r\n        this.currentUser.phone.toString().length > 11\r\n      ) {\r\n        this.printMessage(\r\n          \"warning\",\r\n          \"Phone number has to have 9 to 11 characters.\"\r\n        );\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    capitalizeFirstLetter() {\r\n      this.currentUser.name =\r\n        this.currentUser.name.charAt(0).toUpperCase() +\r\n        this.currentUser.name.slice(1);\r\n      this.currentUser.surname =\r\n        this.currentUser.surname.charAt(0).toUpperCase() +\r\n        this.currentUser.surname.slice(1);\r\n      if (this.currentUser.surname.indexOf(\"-\") >= 0) {\r\n        this.currentUser.surname =\r\n          this.currentUser.surname.slice(\r\n            0,\r\n            this.currentUser.surname.indexOf(\"-\") + 1\r\n          ) +\r\n          this.currentUser.surname\r\n            .charAt(this.user.surname.indexOf(\"-\") + 1)\r\n            .toUpperCase() +\r\n          this.currentUser.surname.slice(\r\n            this.currentUser.surname.indexOf(\"-\") + 2\r\n          );\r\n      }\r\n    },\r\n    updateUserCred() {\r\n      let path = \"/locks/\" + this.selected + \"/users/\" + this.code;\r\n\r\n      let exist = false;\r\n\r\n      if (!this.validateCredentials()) {\r\n        this.printMessage(\r\n          \"warning\",\r\n          \"There is problem with code or password, available characters: 0-9 and A-D, length should be between 3-6\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      onValue(DataService.getFromPath(path), (snapshot) => {\r\n        if (snapshot.exists()) {\r\n          if (this.currentUser.id != snapshot.val().ID) {\r\n            exist = true;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (exist) {\r\n        this.printMessage(\"warning\", \"This code is already in use!\");\r\n        //alert(\"This code is already in use!\");\r\n        return;\r\n      }\r\n\r\n      const update = {};\r\n\r\n      path = \"/locks/\" + this.selected + \"/users\";\r\n      const dbRef = DataService.getFromPath(path);\r\n      const dbQuery = query(\r\n        dbRef,\r\n        orderByChild(\"ID\"),\r\n        equalTo(this.currentUser.id)\r\n      );\r\n      get(dbQuery).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          let oldID;\r\n          snapshot.forEach((item) => {\r\n            oldID = item.key;\r\n          });\r\n\r\n          if (oldID != this.code) {\r\n            update[\"/locks/\" + this.selected + \"/users/\" + oldID] = null;\r\n            DataService.update(update)\r\n              .then(() => {\r\n                //console.log(\"Confirmed\");\r\n              })\r\n              .catch((e) => {\r\n                this.printMessage(\r\n                  \"danger\",\r\n                  \"Error occured, report it to administrator!\"\r\n                );\r\n                console.log(e);\r\n              });\r\n          }\r\n        }\r\n      });\r\n      if (!(this.blocked || !this.blocked)) {\r\n        update[\r\n          \"/locks/\" + this.selected + \"/users/\" + this.code + \"/blocked\"\r\n        ] = true;\r\n      } else {\r\n        update[\"/locks/\" + this.selected + \"/users/\" + this.code + \"/blocked\"] =\r\n          this.blocked;\r\n      }\r\n\r\n      update[\"/locks/\" + this.selected + \"/users/\" + this.code + \"/ID\"] =\r\n        this.currentUser.id;\r\n      update[\"/locks/\" + this.selected + \"/users/\" + this.code + \"/pass\"] =\r\n        this.pass;\r\n      DataService.update(update)\r\n        .then(() => {\r\n          this.printMessage(\r\n            \"success\",\r\n            \"The User's credentials was updated successfully!\"\r\n          );\r\n          //alert(\"The User's credentials was updated successfully!\");\r\n        })\r\n        .catch((e) => {\r\n          this.printMessage(\r\n            \"danger\",\r\n            \"Error occured, report it to administrator!\"\r\n          );\r\n          console.log(e);\r\n        });\r\n    },\r\n    validateCredentials() {\r\n      if (!/^[A-D0-9]{3,6}$/.test(this.code)) {\r\n        return false;\r\n      }\r\n      if (!/^[A-D0-9]{3,6}$/.test(this.pass)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    onDataChange(items) {\r\n      let _locks = [];\r\n      items.forEach((item) => {\r\n        _locks.push({\r\n          ID: item.key,\r\n        });\r\n      });\r\n      this.locks = _locks;\r\n    },\r\n    selectLock() {\r\n      this.lockSelected = true;\r\n      this.code = this.pass = \"\";\r\n      let path = \"/locks/\" + this.selected + \"/users\"; /*\r\n      // onValue(DataService.getUserCredentials(this.selected, this.currentUser.id), (snapshot) => {  \r\n      //   data = snapshot;\r\n      //   this.getCurrentCredentials(data);\r\n      // });\r\n      onValue(DataService.getFromPath(path), (snapshot) => {  \r\n        data = snapshot;\r\n        this.getCurrentCredentials(data);\r\n      });*/\r\n      const dbRef = DataService.getFromPath(path);\r\n      const dbQuery = query(\r\n        dbRef,\r\n        orderByChild(\"ID\"),\r\n        equalTo(this.currentUser.id)\r\n      );\r\n      /*get(dbQuery)\r\n        .then((snapshot) =>{\r\n          this.getCurrentCredentials(snapshot);\r\n      })*/\r\n      onValue(dbQuery, (snapshot) => {\r\n        this.getCurrentCredentials(snapshot);\r\n      });\r\n      this.getLockInfo();\r\n    },\r\n    getLockInfo() {\r\n      let data;\r\n      let path = \"/locks/\" + this.selected + \"/info\";\r\n      onValue(DataService.getFromPath(path), (snapshot) => {\r\n        data = snapshot;\r\n        this.info = data.val();\r\n      });\r\n    },\r\n    getCurrentCredentials(items) {\r\n      this.fresh = true;\r\n      items.forEach((item) => {\r\n        this.code = item.key;\r\n        this.pass = item.val().pass;\r\n        this.blocked = item.val().blocked;\r\n        this.fresh = false;\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.currentUser = { ...this.user };\r\n    let data;\r\n    // onValue(DataService.getAllLocks(), (snapshot) => {\r\n    //   data = snapshot;\r\n    //   this.onDataChange(data);\r\n    // });\r\n    onValue(DataService.getFromPath(\"/locksList\"), (snapshot) => {\r\n      data = snapshot;\r\n      this.onDataChange(data);\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.options-field {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.buttons {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.btn-danger {\r\n  background-color: #bd2130;\r\n  border-color: #bd2130;\r\n}\r\n</style>\r\n","<template>\r\n  <div v-show=\"show\" class=\"overlay\" @click.self=\"toggleSchedule\">\r\n    <div class=\"dialog\">\r\n      <div class=\"content\">\r\n        <div class=\"left-content\">\r\n          <ul class=\"schedule-list\">\r\n            <template\r\n              v-for=\"(schedule, index) in this.schedule\"\r\n              :key=\"schedule.key\"\r\n            >\r\n              <li\r\n                v-if=\"schedule.show\"\r\n                class=\"schedule\"\r\n                @click=\"setActiveSchedule(schedule, index)\"\r\n                :class=\"{\r\n                  active: currentIndex == index,\r\n                  error: schedule.error,\r\n                }\"\r\n              >\r\n                <h3 class=\"text\">Entry {{ index + 1 }}</h3>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-secondary delete\"\r\n                  @click.stop=\"deleteSchedule(schedule)\"\r\n                >\r\n                  <i class=\"bi bi-x-lg\"></i>\r\n                </button>\r\n              </li>\r\n            </template>\r\n          </ul>\r\n          <button\r\n            class=\"new btn btn-secondary\"\r\n            type=\"button\"\r\n            @click=\"showNextSchedule\"\r\n            :disabled=\"scheduleCount >= 20\"\r\n          >\r\n            Add next schedule\r\n          </button>\r\n        </div>\r\n        <div class=\"current-schedule\" v-if=\"currentIndex > -1\">\r\n          <div class=\"schedule-content\">\r\n            <h1>Entry {{ currentIndex + 1 }}</h1>\r\n            <div class=\"form-group\">\r\n              Day:\r\n              <select v-model=\"currentSchedule.day\">\r\n                <option disabled value=\"\">Select day</option>\r\n                <option>Monday</option>\r\n                <option>Tuesday</option>\r\n                <option>Wednesday</option>\r\n                <option>Thursday</option>\r\n                <option>Friday</option>\r\n                <option>Saturday</option>\r\n                <option>Sunday</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"start\">Starting at</label>\r\n              <input\r\n                type=\"time\"\r\n                class=\"form-control\"\r\n                id=\"start\"\r\n                v-model=\"currentSchedule.start\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"start\">Ending at</label>\r\n              <input\r\n                type=\"time\"\r\n                class=\"form-control\"\r\n                id=\"start\"\r\n                v-model=\"currentSchedule.end\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"save\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary\"\r\n              @click=\"updateUserSchedule\"\r\n            >\r\n              Update Schedule\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"close\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn button-close\"\r\n              @click=\"toggleSchedule\"\r\n            >\r\n              <i class=\"bi bi-x-lg\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div v-else>\r\n          <h1>Add schedule for user</h1>\r\n          <div class=\"close\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn button-close\"\r\n              @click=\"toggleSchedule\"\r\n            >\r\n              <i class=\"bi bi-x-lg\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Teleport to=\"body\">\r\n    <Message\r\n      :messageType=\"messageType\"\r\n      :show=\"showMessage\"\r\n      :message=\"messageContent\"\r\n      :closeMessage=\"closeMessage\"\r\n    />\r\n  </Teleport>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport DataService from \"../services/DataService\";\r\nimport { onValue } from \"firebase/database\";\r\nimport Message from \"./Message\";\r\nexport default {\r\n  name: \"scheduleView\",\r\n  props: [\"show\", \"user\", \"lock\", \"toggleSchedule\"],\r\n  components: { Message },\r\n  data() {\r\n    return {\r\n      schedule: [],\r\n      scheduleCount: \"\",\r\n      currentSchedule: {\r\n        show: false,\r\n        error: false,\r\n        start: \"00:00\",\r\n        end: \"00:00\",\r\n        day: \"Monday\",\r\n      },\r\n      currentIndex: -1,\r\n      showMessage: false,\r\n      messageType: \"\",\r\n      messageContent: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    lock: function () {\r\n      let path = \"/locks/\" + this.lock + \"/schedule/\" + this.user.id;\r\n      onValue(DataService.getFromPath(path), (snapshot) => {\r\n        let data = snapshot;\r\n        this.getCurrentSchedule(data);\r\n      });\r\n      //console.log(this.lock);\r\n    },\r\n  },\r\n  methods: {\r\n    printMessage(type, message) {\r\n      this.showMessage = true;\r\n      this.messageType = type;\r\n      this.messageContent = message;\r\n    },\r\n    closeMessage() {\r\n      this.showMessage = false;\r\n    },\r\n    setActiveSchedule(entry, index) {\r\n      this.currentSchedule = entry;\r\n      this.currentIndex = index;\r\n    },\r\n    updateUserSchedule() {\r\n      let _schedule = this.schedule;\r\n      if (!this.validateSchedule(_schedule)) {\r\n        this.printMessage(\r\n          \"warning\",\r\n          \"Starting time must be before leaving time!\"\r\n        );\r\n        //console.log(this.validateSchedule(_schedule));\r\n        //alert(\"Starting time must be before leaving time!\");\r\n      } else if (!this.checkRedundantSchedule(_schedule)) {\r\n        this.printMessage(\r\n          \"warning\",\r\n          \"There is one or more redundant schedule, check and try again!\"\r\n        );\r\n        //console.log(this.checkRedundantSchedule(_schedule));\r\n        //alert(\"There is one or more redundant schedule, check and try again!\");\r\n      } else {\r\n        this.clearSchedule();\r\n        let id = 1;\r\n        for (let i = 0; i < _schedule.length; i++) {\r\n          if (_schedule[i].show) {\r\n            let start = _schedule[i].start.split(\":\");\r\n            let end = _schedule[i].end.split(\":\");\r\n            let content = {\r\n              day: _schedule[i].day,\r\n              startHour: start[0],\r\n              startMin: start[1],\r\n              endHour: end[0],\r\n              endMin: end[1],\r\n            };\r\n            this.updateSchedule(content, id);\r\n            id++;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    validateSchedule(content) {\r\n      let format = \"hh:mm\";\r\n      let outcome = true;\r\n      for (let i = 0; i < content.length; i++) {\r\n        if (content[i].show) {\r\n          if (\r\n            moment(content[i].start, format).isAfter(\r\n              moment(content[i].end, format)\r\n            )\r\n          ) {\r\n            content[i].error = true;\r\n            outcome = false;\r\n          } else if (content[i].start == content[i].end) {\r\n            content[i].error = true;\r\n            outcome = false;\r\n          }\r\n        } else {\r\n          continue;\r\n        }\r\n      }\r\n      return outcome;\r\n    },\r\n    checkRedundantSchedule(content) {\r\n      let currentEntry;\r\n      let outcome = true;\r\n      let format = \"hh:mm\";\r\n      for (let i = 0; i < content.length; i++) {\r\n        if (content[i].show) {\r\n          currentEntry = content[i];\r\n        } else {\r\n          continue;\r\n        }\r\n        for (let j = i + 1; j < content.length; j++) {\r\n          if (content[j].show) {\r\n            if (currentEntry.day === content[j].day) {\r\n              // console.log(currentEntry.start);\r\n              // console.log(currentEntry.end);\r\n              // console.log(content[j].start);\r\n              // console.log(content[j].end);\r\n              if (\r\n                currentEntry.start == content[j].start ||\r\n                currentEntry.end == content[j].start ||\r\n                currentEntry.start == content[j].end\r\n              ) {\r\n                currentEntry.error = true;\r\n                content[j].error = true;\r\n                outcome = false;\r\n              }\r\n              if (\r\n                moment(content[j].start, format).isBetween(\r\n                  moment(currentEntry.start, format),\r\n                  moment(currentEntry.end, format)\r\n                ) ||\r\n                moment(content[j].end, format).isBetween(\r\n                  moment(currentEntry.start, format),\r\n                  moment(currentEntry.end, format)\r\n                ) ||\r\n                moment(currentEntry.start, format).isBetween(\r\n                  moment(content[j].start, format),\r\n                  moment(content[j].end, format)\r\n                ) ||\r\n                moment(currentEntry.end, format).isBetween(\r\n                  moment(content[j].start, format),\r\n                  moment(content[j].end, format)\r\n                )\r\n              ) {\r\n                currentEntry.error = true;\r\n                content[j].error = true;\r\n                outcome = false;\r\n              }\r\n            }\r\n          } else {\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n      return outcome;\r\n    },\r\n    updateSchedule(content, id) {\r\n      const update = {};\r\n      update[\r\n        \"/locks/\" +\r\n          this.lock +\r\n          \"/schedule/\" +\r\n          this.user.id +\r\n          \"/SID\" +\r\n          id +\r\n          \"/day\"\r\n      ] = content.day;\r\n      update[\r\n        \"/locks/\" +\r\n          this.lock +\r\n          \"/schedule/\" +\r\n          this.user.id +\r\n          \"/SID\" +\r\n          id +\r\n          \"/start/hour\"\r\n      ] = content.startHour;\r\n      update[\r\n        \"/locks/\" +\r\n          this.lock +\r\n          \"/schedule/\" +\r\n          this.user.id +\r\n          \"/SID\" +\r\n          id +\r\n          \"/start/min\"\r\n      ] = content.startMin;\r\n      update[\r\n        \"/locks/\" +\r\n          this.lock +\r\n          \"/schedule/\" +\r\n          this.user.id +\r\n          \"/SID\" +\r\n          id +\r\n          \"/end/hour\"\r\n      ] = content.endHour;\r\n      update[\r\n        \"/locks/\" +\r\n          this.lock +\r\n          \"/schedule/\" +\r\n          this.user.id +\r\n          \"/SID\" +\r\n          id +\r\n          \"/end/min\"\r\n      ] = content.endMin;\r\n      //console.log(update);\r\n      DataService.update(update)\r\n        .then(() => {\r\n          this.printMessage(\r\n            \"success\",\r\n            \"The User's schedule was updated successfully!\"\r\n          );\r\n        })\r\n        .catch((e) => {\r\n          this.printMessage(\r\n            \"danger\",\r\n            \"Error occured, report it to administrator!\"\r\n          );\r\n          console.log(e);\r\n        });\r\n    },\r\n    clearSchedule() {\r\n      const update = {};\r\n      update[\"/locks/\" + this.lock + \"/schedule/\" + this.user.id] = null;\r\n      DataService.update(update)\r\n        .then(() => {})\r\n        .catch((e) => {\r\n          this.printMessage(\r\n            \"danger\",\r\n            \"Error occured, report it to administrator!\"\r\n          );\r\n          console.log(e);\r\n        });\r\n    },\r\n    setSchedule() {\r\n      for (let i = 0; i < 20; i++) {\r\n        this.schedule.push({\r\n          show: false,\r\n          error: false,\r\n          start: \"00:00\",\r\n          end: \"00:00\",\r\n          day: \"Monday\",\r\n        });\r\n      }\r\n      //console.log(this.schedule);\r\n    },\r\n    showNextSchedule() {\r\n      //console.log(this.schedule.length);\r\n      for (let i = 0; i < 20; i++) {\r\n        if (typeof this.schedule[i] === \"undefined\") {\r\n          this.scheduleCount++;\r\n          this.schedule.push({\r\n            show: true,\r\n            error: false,\r\n            start: \"00:00\",\r\n            end: \"00:00\",\r\n            day: \"Friday\",\r\n          });\r\n          if (i == 0) {\r\n            this.setActiveSchedule(this.schedule[i], i);\r\n          }\r\n          break;\r\n        } else if (!this.schedule[i].show) {\r\n          this.scheduleCount++;\r\n          this.schedule[i].show = true;\r\n          this.schedule[i].error = false;\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    deleteSchedule(schedule) {\r\n      schedule.show = false;\r\n      schedule.error = false;\r\n      this.scheduleCount--;\r\n      if (this.currentSchedule == schedule) {\r\n        this.showLast();\r\n      }\r\n    },\r\n    showLast() {\r\n      let lastSchedule;\r\n      let lastIndex;\r\n      for (let i = 0; i < this.schedule.length; i++) {\r\n        if (this.schedule[i].show) {\r\n          lastSchedule = this.schedule[i];\r\n          lastIndex = i;\r\n        }\r\n      }\r\n      this.setActiveSchedule(lastSchedule, lastIndex);\r\n    },\r\n    getCurrentSchedule(items) {\r\n      if (items.exists()) {\r\n        let _schedule = [];\r\n        this.scheduleCount = 0;\r\n        items.forEach((item) => {\r\n          this.scheduleCount++;\r\n          let data = item.val();\r\n          _schedule.push({\r\n            day: data.day,\r\n            start: data.start.hour + \":\" + data.start.min,\r\n            end: data.end.hour + \":\" + data.end.min,\r\n            show: true,\r\n            error: false,\r\n          });\r\n        });\r\n        this.schedule = _schedule;\r\n        this.currentIndex = 0;\r\n        this.currentSchedule = _schedule[0];\r\n      } else {\r\n        this.currentIndex = -1;\r\n        this.schedule = [];\r\n      }\r\n    },\r\n  },\r\n  beforeMount() {\r\n    let path = \"/locks/\" + this.lock + \"/schedule/\" + this.user.id;\r\n    onValue(DataService.getFromPath(path), (snapshot) => {\r\n      let data = snapshot;\r\n      this.getCurrentSchedule(data);\r\n    });\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"keydown\", (input) => {\r\n      if (input.key == \"Escape\") {\r\n        this.toggleSchedule();\r\n      }\r\n    });\r\n  },\r\n  unmounted() {\r\n    window.removeEventListener(\"keydown\", (input) => {\r\n      if (input.key == \"Escape\") {\r\n        this.toggleSchedule();\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n  border: none;\r\n}\r\n.overlay {\r\n  position: fixed; /* Sit on top of the page content */\r\n  display: flex;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5); /* Black background with opacity */\r\n}\r\n.dialog {\r\n  position: fixed; /* Sit on top of the page content */\r\n  display: flex;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  margin: 5rem;\r\n}\r\n.content {\r\n  background-color: #b1b1b1;\r\n  display: flex;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0px -1px 10px 4px #141414a6;\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n.schedule-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n  list-style-type: none;\r\n  padding: 0.5rem;\r\n}\r\n.schedule {\r\n  margin: 0.5rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #d9d9d9;\r\n  border-radius: 0.5rem;\r\n  padding: 0.5rem;\r\n  border-style: solid;\r\n  border-color: #d9d9d9;\r\n}\r\n.active {\r\n  background-color: #746d6d;\r\n  border-style: solid;\r\n  border-color: #746d6d;\r\n}\r\n.current-schedule {\r\n  padding: 1rem;\r\n}\r\n.close {\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 0.5rem;\r\n}\r\n.button-close {\r\n  background-color: #252323;\r\n  color: #ffffff;\r\n  border-radius: 0.5rem;\r\n}\r\n.save {\r\n  position: absolute;\r\n  bottom: 0.5rem;\r\n  right: 0.5rem;\r\n}\r\n.delete {\r\n  background-color: #a7a2a2;\r\n}\r\n.text {\r\n  margin-right: 1rem;\r\n}\r\n.left-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  background-color: #9d9b9b;\r\n  border-radius: 0.5rem 0 0 0.5rem;\r\n}\r\n.new {\r\n  margin: 0.5rem;\r\n  padding: 1rem 2.5rem;\r\n}\r\n.error {\r\n  border-style: solid;\r\n  border-color: #6e0202;\r\n  animation: blink 1s infinite ease-in-out;\r\n}\r\n@keyframes blink {\r\n  25% {\r\n    border-color: #9d9b9b;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ScheduleView.vue?vue&type=template&id=9226e7ee&scoped=true\"\nimport script from \"./ScheduleView.vue?vue&type=script&lang=js\"\nexport * from \"./ScheduleView.vue?vue&type=script&lang=js\"\n\nimport \"./ScheduleView.vue?vue&type=style&index=0&id=9226e7ee&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Teczka Michała J\\\\Studia\\\\Inżynierka\\\\vue-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9226e7ee\"]])\n\nexport default __exports__","import { render } from \"./User.vue?vue&type=template&id=1df86b43&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\n\nimport \"./User.vue?vue&type=style&index=0&id=1df86b43&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Teczka Michała J\\\\Studia\\\\Inżynierka\\\\vue-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1df86b43\"]])\n\nexport default __exports__","import { render } from \"./UsersList.vue?vue&type=template&id=37761c71&scoped=true\"\nimport script from \"./UsersList.vue?vue&type=script&lang=js\"\nexport * from \"./UsersList.vue?vue&type=script&lang=js\"\n\nimport \"./UsersList.vue?vue&type=style&index=0&id=37761c71&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Teczka Michała J\\\\Studia\\\\Inżynierka\\\\vue-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-37761c71\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_11","_createBlock","_component_MainLayout","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","users","item","index","id","_toDisplayString","name","surname","onClick","$options","$data","_hoisted_14","_createVNode","_component_user_details","user","for","disabled","value","_hoisted_19","_hoisted_2","type","$event","_hoisted_6","_hoisted_8","phone","_hoisted_10","locks","key","ID","_Teleport","to","_component_ScheduleView","show","lock","toggleSchedule","_hoisted_12","lockInfo","_hoisted_13","authType","authInfo","_hoisted_15","_hoisted_20","_hoisted_17","_hoisted_22","code","_hoisted_24","pass","_component_Message","messageType","message","closeMessage","_hoisted_16","_hoisted_18","_hoisted_21","_hoisted_30","_hoisted_35","$props","schedule","error","day","_hoisted_25","start","_hoisted_27","end","_hoisted_32","_hoisted_33","props","components","Message","data","scheduleCount","currentSchedule","currentIndex","showMessage","messageContent","watch","path","this","onValue","DataService","snapshot","getCurrentSchedule","methods","printMessage","setActiveSchedule","entry","updateUserSchedule","_schedule","validateSchedule","checkRedundantSchedule","clearSchedule","i","length","split","content","startHour","startMin","endHour","endMin","updateSchedule","format","outcome","moment","isAfter","currentEntry","j","isBetween","update","then","catch","e","console","log","setSchedule","push","showNextSchedule","deleteSchedule","showLast","lastSchedule","lastIndex","items","exists","forEach","val","hour","min","beforeMount","mounted","window","addEventListener","input","unmounted","removeEventListener","__exports__","ScheduleView","currentUser","blocked","fresh","selected","info","lockSelected","showSchedule","selectLock","updateBlocked","status","updateUserInfo","validateUserInfo","capitalizeFirstLetter","test","toString","charAt","toUpperCase","slice","indexOf","updateUserCred","exist","validateCredentials","dbRef","dbQuery","query","orderByChild","equalTo","get","oldID","onDataChange","_locks","getCurrentCredentials","getLockInfo","UserDetails","MainLayout","_users","password","refreshList","setActiveUser","render"],"sourceRoot":""}